<!DOCTYPE HTML>
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta name="description" content="Page for registering a new device or update an already registered in the PHANTOM RESOURCE-MANAGER-server">
	<meta name="keywords" content="HTML,CSS,JavaScript">
	<meta name="author" content="Jose Miguel MontaÃ±ana, hpcjmont@hlrs.de">
	<meta name="reply-to" content="hpcjmont@hlrs.de">
	<meta name="copyright" content="Copyright (C) 2018 University of Stuttgart">
	<meta name="language" content="EN">
	<meta name="revised" content="July 4, 2018" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="robots" content="noindex">
	<meta name="googlebot" content="noindex">
	<meta charset="utf-8">
	<title>PHANTOM RESOURCE-MANAGER</title>
	<link rel="stylesheet" type="text/css" href="phantom.css">
	<script src="phantom.js"></script><script src="resourcemanager.js"></script>
</head>

<body onload="start_page_new()">
	<div id="menu_phantom"></div>

	<div id="menu_login" style="display:none"></div>

	<div id="phantom_operation">
		<h1><b>Update a Device</b></h1>

		<hr> <h2><b> Online formular: </b></h2>
		<form ref='uploadForm'
			id='uploadForm'
			name="myForm" >
			&emsp; Json File (REQUIRED) <input type="file" name="UploadJSON" id="UploadJSON" /><br>
			<div class="center">
			<input type="submit" onclick="return update_device_with_token( document.getElementById('UploadJSON') )" value="Register/Update Device"/>
			</div>
		</form>

		<hr><h2><b> Example of JSON file:<b></h2>
			<ul style="list-style-type:disc">
				<a href="device_update1.json">device_update1.json</a><br>
			</ul>

		<hr><h2><b> CAUTION:<b></h2>
			<ul style="list-style-type:disc">
				<li> An update <it>merges</it> the upload json with the already registered fields</li>
				<li> Field names in the json must be lower-case</li>
				<li>The following characters are reserved in JSON and must be properly escaped to be used in strings (in other case they will prevent the correct parsing):<br>
					&emsp; Backspace <span style="font-weight:normal"> has to be replaced with</span> \b<br>
					&emsp; Form feed<span style="font-weight:normal"> has to be replaced with</span> \f<br>
					&emsp; Newline<span style="font-weight:normal"> has to be replaced with</span> \n<br>
					&emsp; Carriage return<span style="font-weight:normal"> has to be replaced with</span> \r<br>
					&emsp; Tab<span style="font-weight:normal"> has to be replaced with</span> \t<br>
					&emsp; Double quote<span style="font-weight:normal"> has to be replaced with</span> \"<br>
					&emsp; Backslash<span style="font-weight:normal"> has to be replaced with</span> \\
				</li>
			</ul>
	</div>

	<div id="debug_phantom" style="display:none"> <hr><p id="demoreplaceb"></p> </div>

	<div id="foot_phantom"></div>
<script> rm_load_header_footer();
	var currentmode= localStorage.getItem('currentmode');
	if(currentmode!=undefined){
		var c = document.getElementById("foot_phantom").querySelectorAll("a");
		for (i in c) {
			c[i].className = currentmode;
		}
		//update it at last
		document.getElementById("foot_phantom").className = currentmode;
	}
</script>
</body>
</html>
